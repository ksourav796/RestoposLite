
<style>
    .table .thead-dark th {
        color: #fff !important;
        background-color: #696969 !important;
        border-color: #ecf0f5 !important;
    }
    .table td{
        border:1px solid #696969 !important;
    }

    @media only screen and (max-width: 1024px) {
        .top-box1{
            height: 250px;
        }
    }

    .top-box1 {
        border: 1px solid #dadada;
        padding: 10px 10px;
        margin: 0px;
        height: 115px;
    }

    @media (min-width: 992px) {
        .col-md-offset-4 {
            margin-left: 15.33333333%;
        }
    }
    @media only screen and (max-width: 768px) {
        .top-box1 {
            height: 340px;
        }
    }

        @media only screen and (max-width: 414px) {
            .top-box1 {
                height: auto;
            }
        }
    .content {
        min-height: 20px;
    }
</style>
<!-- Content Header (Page header) -->
<section class="content-header">
    <h1>
        Item Sales Report
    </h1>
    <!--<ol class="breadcrumb">-->
        <!--<li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>-->
        <!--<li class="active">Dashboard</li>-->
    <!--</ol>-->
</section>

<!-- Main content -->
<section class="content">
    <!-- Small boxes (Stat box) -->
    <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <div class="top-box1">
                <div class="row">
                    <div class="col-lg-3 col-md-3 col-sm-6 form-group">
                        <div class="col-lg-3 col-md-12 col-sm-12 col-xs-12">
                            <label>Date:</label>
                        </div>
                        <div class="col-lg-9 col-md-12 col-sm-12 col-xs-12 input-group date">
                            <p class="input-group">
                                <input type="text" class="form-control" uib-datepicker-popup="{{format}}"
                                       ng-model="fromDate" is-open="popup1.opened" readonly datepicker-options="dateOptions"
                                       ng-required="true" close-text="Close" alt-input-formats="altInputFormats"
                                       style="height: 35px;" />
                                <span class="input-group-btn">
                                                            <button type="button" class="btn btn-default" ng-click="open1()">
                                                                <i class="glyphicon glyphicon-calendar"></i>
                                                            </button>
                                                        </span>
                            </p>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-6 form-group">
                        <div class="col-lg-3 col-md-12 col-sm-12 col-xs-12">
                            <label>To:</label>
                        </div>
                        <div class="col-lg-9 col-md-12 col-sm-12 col-xs-12 input-group date">
                            <p class="input-group">
                                <input type="text" class="form-control" readonly uib-datepicker-popup="{{format}}"
                                       ng-model="toDate" is-open="popup2.opened" datepicker-options="dateOptions"
                                       ng-required="true" close-text="Close" alt-input-formats="altInputFormats"
                                       style="height: 35px;" />
                                <span class="input-group-btn">
                                                            <button type="button" class="btn btn-default" ng-click="open2()">
                                                                <i class="glyphicon glyphicon-calendar"></i>
                                                            </button>
                                                        </span>
                            </p>
                        </div>
                    </div>
                    <div class="col-md-3 col-sm-12">
                        <div class="col-md-4 col-sm-3" style="padding: 0;">
                            <label class="control-label col-md-12 col-sm-4" for=""
                                   style="padding: 8px 0 0;">Item Category:</label>
                        </div>
                        <div class="col-md-8 col-sm-9 input_label cus_input_label no-pad">
                            <input id="textinput" name="textinput" readonly type="text"
                                   placeholder="Click To Select Item Category"
                                   ng-model="itemCategorySearchText" class="form-control input-md"
                                   ng-click="getItemCategoryList('')" style="width: 100% !important;" />
                        </div>
                    </div>
                    <div class="col-md-3 col-sm-4">
                        <div class="col-md-4 col-sm-3" style="padding: 0;">
                            <label class="control-label col-md-12 col-sm-4" for=""
                                   style="padding-left: 0;">Item Name:</label>
                        </div>
                        <div class="col-md-8 col-sm-9 input_label cus_input_label no-pad">
                            <input id="textinputo" name="textinput" readonly type="text"
                                   placeholder="Click To Select Item" ng-model="itemText" class="form-control input-md"
                                   ng-click="getItemLists('')" style="width: 100% !important;" />
                        </div>
                    </div>
                    <div class="col-md-offset-4 col-md-4 col-sm-4">
                        <!--<div class="top-button-area1">-->
                        <div class="col-md-4">
                            <button type="button" class="btn btn-block btn-success" ng-click="getSalesInvoicewithFilter('')" style="min-width: px;">View</button>
                        </div>
                        <div class="col-md-4 col-sm-4 col-xs-4">
                            <a href="/reports/downloadItemSalesExcelSheet?fromDate={{fromDate| date:'yyyy-MM-dd'}}&toDate={{toDate| date:'yyyy-MM-dd'}}&category={{itemCategoryId}}&item={{itemId}}&filterApplied={{isFilterApplied}}">
                                <button type="button" class="btn btn-block btn-success">EXCEL</button>
                            </a>
                        </div>
                        <div class="col-md-4 col-sm-4 col-xs-4">
                            <a href="/reports/downloadItemSalesPdf?fromDate={{fromDate| date:'yyyy-MM-dd'}}&toDate={{toDate| date:'yyyy-MM-dd'}}&category={{itemCategoryId}}&item={{itemId}}&filterApplied={{isFilterApplied}}">
                                <button type="button" class="btn btn-block btn-success">PDF</button>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </div>
    </div>
</section>
<section class="content">
    <div class="row">
        <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12">
            <div style="overflow-x:auto;">
                <table id="example" class="table table-striped table-bordered nowrap" style="width:100%">
                    <thead class="thead-dark">
                    <tr>
                        <th>Inv Date</th>
                        <th>Category Name</th>
                        <th>Item Name</th>
                        <th>Qty</th>
                        <th>Total Amount</th>
                    </tr>
                    </thead>
                    <tbody ng-repeat="sq in exportList">
                    <tr>
                        <td>{{sq.date | date:'dd/MM/yyyy'}}</td>
                        <td class="align_right">{{sq.itemCategoryName}}</td>
                        <td class="align_right">{{sq.itemName}}</td>
                        <td class="align_right">{{sq.qty}}</td>
                        <td class="align_right">{{sq.invoiceAmount|number:2}}</td>
                    </tr>
                    <tbody>
                    <tr>
                    <tr>
                        <td ><strong>Grand Total</strong></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td class="align_right"><strong>{{invoiceTotal|number:2}}</strong></td>

                    </tr>
                    </tr>
                    </tbody>
                </table>
            </div>
            </tbody>

            </table>
        </div>
    </div>
    <div class="form-group">
        <div class="col-sm-12 col-md-12 pagination_" style="margin-top: 180px;">

            <button type="button" class="btn btn-default hi_btn" ng-class="{'diabled-class': first}"
                    ng-disabled="first"
                    ng-click="getPaginatedSalesInvoice('firstPage')" ng-model="first">First
            </button>
            <button type="button" class="btn btn-default hi_btn" ng-class="{'diabled-class': prev}"
                    ng-disabled="prev"
                    ng-click="getPaginatedSalesInvoice('prevPage')" ng-model="prev">Prev
            </button>
            <button type="button" class="btn btn-default hi_btn" name="next" ng-disabled="next"
                    ng-click="getPaginatedSalesInvoice('nextPage')" value="next"
                    ng-class="{'diabled-class': next}" ng-model="next">Next
            </button>
            <button type="button" class="btn btn-default hi_btn"
                    ng-click="getPaginatedSalesInvoice('lastPage')" ng-class="{'diabled-class': last}"
                    ng-disabled="last"
                    ng-model="last">Last
            </button>
        </div>
    </div>
    <div class="modal fade selectItemCategory" tabindex="-1" id="selectItemCategory" role="dialog"
         data-backdrop="static"
         aria-labelledby="mySmallModalLabel">
        <div class="modal-dialog modal-md">
            <div class="modal-content checkout">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">Select Category</h4>
                </div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-md-12 col-sm-12">
                            <label>Search: <input class="form-control input-sm"
                                                  ng-change="getItemCategoryList(searchText)"
                                                  ng-change-delay="300" ng-model="searchText"
                                                  maxlength="255"></label>
                            <div class="table-responsive">
                                <table class="table table-striped table_costomize itemlisttable" id="">
                                    <thead>
                                    <tr>
                                        <th data-field="name">Item Category Code</th>
                                        <th data-field="desc">Item Category Name</th>
                                        <th data-field="desc">Item Category Desc</th>
                                    </tr>
                                    </thead>
                                    <tbody id="parentTable">
                                    <tr ng-repeat="itemCategoryId in itemCategoryList"
                                        ng-click="appendItemCategory(itemCategoryId)">
                                        <td>{{itemCategoryId.itemCategoryCode}}</td>
                                        <td class="word_break">{{itemCategoryId.itemCategoryName}}</td>
                                        <td>{{itemCategoryId.itemCategoryDesc}}</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade selectItem" tabindex="-1" id="selectItems" role="dialog" data-backdrop="static"
         aria-labelledby="mySmallModalLabel">
        <div class="modal-dialog modal-md">
            <div class="modal-content checkout">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">Select Item</h4>
                </div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-md-12 col-sm-12">
                            <label>Search: <input class="form-control input-sm" ng-change="getItemList(searchText)"
                                                  ng-change-delay="300" ng-model="searchText" maxlength="255"></label>
                            <div class="table-responsive">
                                <table class="table table-striped table_costomize itemlisttable" id="">
                                    <thead>
                                    <tr>
                                        <th data-field="name">Item Code</th>
                                        <th data-field="desc">Item Name</th>
                                        <th data-field="desc">Count Type</th>
                                        <th data-field="desc">Available Qty</th>
                                        <th data-field="desc">Item Category Name</th>
                                    </tr>
                                    </thead>
                                    <tbody id="parentTable">
                                    <tr ng-repeat="itemId in itemList| filter:itemSearchText"
                                        ng-click="appendItem(itemId)">
                                        <td hidden>{{itemId.serializableStatus}}</td>
                                        <td class="word_break">{{itemId.itemCode}}</td>
                                        <td class="word_break">{{itemId.itemName}}</td>
                                        <td>{{itemId.serializableStatus}}</td>
                                        <td>{{itemId.stock}}</td>
                                        <td>{{itemId.itemCategoryName}}</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade selectEmployee" tabindex="-1" id="selectEmployee" role="dialog" data-backdrop="static"
         aria-labelledby="mySmallModalLabel">
        <div class="modal-dialog modal-md">
            <div class="modal-content checkout">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">Select Employee</h4>
                </div>
                <div class="modal-body" style="height: 460px; overflow-y: scroll;">
                    <div class="row">
                        <div class="col-md-12 col-sm-12">
                            <label>Search: <input class="form-control input-sm" ng-change="getEmployeeList(searchText)"
                                                  ng-change-delay="300" ng-model="searchText" maxlength="255"></label>
                            <div class="table-responsive">
                                <table class="table table-striped table_costomize employeelisttable" id="">
                                    <thead>
                                    <tr>
                                        <th data-field="name" style="width:48px !important;"></th>
                                        <th data-field="desc" style="width:450px;">Employee Name</th>
                                    </tr>
                                    </thead>
                                    <tbody id="parentTable">
                                    <tr ng-repeat="employeeId in employeeList| filter:employeeSearchText">
                                        <td style='width: 48px !important;'>
                                            <input
                                                    type="checkbox" ng-model="selectedEmployee" ng-click="selectedEmployeeList(employeeId.employeeName)">
                                        </td>
                                        <td style="width:450px;">{{employeeId.employeeName}}</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade selectCustomer" tabindex="-1" id="selectCustomer" role="dialog" data-backdrop="static"
         aria-labelledby="mySmallModalLabel">
        <div class="modal-dialog modal-md">
            <div class="modal-content checkout">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">Select Customer</h4>
                </div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-sm-12 col-md-12">
                            <label style="margin-left:20px;">Search: <input class="form-control input-sm"
                                                                            ng-change="getCustomerListSearch(searchCustomerText)"
                                                                            ng-change-delay="300"
                                                                            ng-model="searchCustomerText"></label>
                            <div class="table-responsive">
                                <table class="table table-striped table_costomize customerList" id="">
                                    <thead>
                                    <tr>
                                        <th data-field="name" style="width: 33.3% !important">Customer Name</th>
                                        <!--<th data-field="desc">Customer Number</th>-->
                                        <th style="width: 33.3% !important" data-field="desc">Email</th>
                                        <th style="width: 33.3% !important" data-field="desc">Contact</th>
                                    </tr>
                                    </thead>
                                    <tbody id="parentCustomerTable">
                                    <tr ng-repeat="customerId in customerList| filter:searchCustomerText"
                                        ng-click="appendCustomer(customerId)">
                                        <td style="width: 33.3% !important;word-break: break-word;">
                                            {{customerId.customerName}}
                                        </td>
                                        <td style="width: 33.3% !important;word-break: break-word;">
                                            {{customerId.customerEmail}}
                                        </td>
                                        <td style="width: 33.3% !important;word-break: break-word;">
                                            {{customerId.customerContact}}
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    </div>
    <sales-print></sales-print>
    <div align="center"><span style="color: red;"></span></div>
    </div>
    </div>
    <select-item-modal></select-item-modal>
    <sales-print></sales-print>
    <restaurant-print></restaurant-print>
    <div class="modal fade addCustomer" tabindex="-1" id="display_details" role="dialog" data-backdrop="static"
         aria-labelledby="mySmallModalLabel">
        <div class="modal-dialog modal-md">
            <div class="modal-content checkout">
                <div class="fixed-table-container">
                    <div class="table_wrap fixed-table-container-inner">
                        <div class="header-background"></div>
                        <table data-toggle="table" data-cache="false" data-height="299" class="hi_table table table-hover table-bordered table-striped table-fixed-header">
                            <thead>
                            <tr>
                                <th data-field="cntryname">
                                    <div class="th-inner">Item  Name</div>
                                </th>
                                <th data-field="edit">
                                    <div class="th-inner">Qty</div>
                                </th>
                                <th data-field="edit">
                                    <div class="th-inner">Unit Price</div>
                                </th>
                                <th data-field="edit">
                                    <div class="th-inner">Tax Amt</div>
                                </th>
                                <th data-field="edit">
                                    <div class="th-inner">Total Amount</div>
                                </th>
                                <th data-field="edit">
                                    <div class="th-inner">Tax Rate</div>
                                </th>
                            </tr>
                            </thead>
                            <tbody id="parentTable">
                            <tr ng-repeat="invoice in orderList| filter:searchText">
                                <td>{{invoice.itemName}}</td>
                                <td>{{invoice.qty| positive}}</td>
                                <td>{{invoice.unitPrice| number:2}}</td>
                                <td>{{invoice.taxamt |positive}}</td>
                                <td>{{invoice.amtinclusivetax| number:2}}</td>
                                <td>{{invoice.taxpercent| number:2}}</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
    </body>
</section>
